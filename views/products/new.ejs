<% layout('layout/boilerplate') %>
    
    <div class="row">
        <h1 class="text-center">ADD A PRODUCT</h1>
        <div class="col-6 offset-3">
            <form action="/products" method="POST" novalidate class="validate-form" enctype="multipart/form-data">
                <div class="mb-3"><label class="form-label" for="name">PRODUCT NAME</label>
                    <input class="form-control" type="text" name="name" id="name" placeholder="Enter name of product" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div></div>
                <div class="mb-3">
                    <label class="form-label" for="price">PRODUCT PRICE</label>
                    <input class="form-control" type="number" name="price" id="price" placeholder="Enter price of product" required>
                <div class="valid-feedback">
                    Looks good!
                  </div></div>

                  <div class="mb-3">
                    <div class="form-file custom-file">
                        <input type="file" class="form-file-input" id="image" name="image" multiple>
                        <label class="form-file-label" for="image">
                            <span class="form-file-text custom-file-label">Choose image(s)...</span>
                            <span class="form-file-button">Browse</span>
                        </label>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="category">PRODUCT CATGEORY</label>
                    <select name="category" id="category" >
                        <% for(let category of categories){ %>
                            <option value="<%=category%>"><%=category%></option>
                        <% } %>
                        </select>
                        <div class="valid-feedback">
                            Looks good!
                        </div>
                        <br><br>
                        <div class="mb-3"><button class="btn btn-success">SUBMIT</button></div>
                    </form>
                </div>
        </div>
    </div>

    <script>
        (function(){
                'use strict'
                const forms = document.querySelectorAll('.validate-form')
                Array.from(forms)
                .forEach(function(form){
                    form.addEventListener('submit', event => {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }
                        form.classList.add('was-validated')
                    }, false)
                })
        })()
    </script>
    
